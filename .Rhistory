lapply(.(period,valid),as.Date,
origin=as.Date("1899-12-30"))
][format(as.Date(valid)-past_due,"%Y")==2015
][,account:=gsub("\\s*","",account)
][,.(period = max(period),
past_due = min(past_due),
principal = sum(principal),
total_paid = sum(total_paid)),
by = .(account, valid)
][properties,.SD,on="account"
][properties,(getv):=mget("i."%+%getv),
on="account"
][is.na(valid),c("valid","total_paid"):=
.(as.Date("2015-06-01"),0)]
payments[order(valid),
c("paid_full","cum_paid"):=
{cp <- cumsum(total_paid)
.(cp >= total_due, cp)},by=account]
t.rng<-payments[treat8!="Holdout",{rng<-range(valid)
seq(from=rng[1],to=rng[2],by="day")}]
payments_o <- payments[order(treat14), .(principal = sum(principal),
total_paid = sum(total_paid),
rand_id = rand_id[1L]),
by = .(owner1, valid)
][owners, c("total_due","treat8") :=
.(i.total_due, treat8), on = "owner1"
][,c("cum_paid","paid_full"):=
{cp<-cumsum(total_paid)
.(cp, cp >= total_due)}, by = owner1]
owners[unique(payments_o[(paid_full)][order(valid)], by = "owner1"),
date_paid_full := i.valid, on = "owner1"]
dt.rng2<-dt.rng[seq(1,length(dt.rng),length.out=7)]
dt.rng<-payments[treat8!="Holdout",{rng<-range(valid)
seq(from=rng[1],to=rng[2],by="day")}]
payments_o <- payments[order(treat14), .(principal = sum(principal),
total_paid = sum(total_paid),
rand_id = rand_id[1L]),
by = .(owner1, valid)
][owners, c("total_due","treat8") :=
.(i.total_due, treat8), on = "owner1"
][,c("cum_paid","paid_full"):=
{cp<-cumsum(total_paid)
.(cp, cp >= total_due)}, by = owner1]
owners[unique(payments_o[(paid_full)][order(valid)], by = "owner1"),
date_paid_full := i.valid, on = "owner1"]
dt.rng<-payments[treat8!="Holdout",{rng<-range(valid)
seq(from=rng[1],to=rng[2],by="day")}]
payments_o <- payments[order(treat14), .(principal = sum(principal),
total_paid = sum(total_paid),
rand_id = rand_id[1L]),
by = .(owner1, valid)
][owners, c("total_due","treat8") :=
.(i.total_due, treat8), on = "owner1"
][,c("cum_paid","paid_full"):=
{cp<-cumsum(total_paid)
.(cp, cp >= total_due)}, by = owner1]
owners[unique(payments_o[(paid_full)][order(valid)], by = "owner1"),
date_paid_full := i.valid, on = "owner1"]
dt.rng2<-dt.rng[seq(1,length(dt.rng),length.out=7)]
date.dt <-
CJ(treat7 = trt.nms, date = dt.rng,
unique=TRUE, sorted = FALSE)
cum_haz<-owners[!holdout&!is.na(date_paid_full),
.N,keyby=.(treat7,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat7
][owners[(!holdout),.N,treat7],pf:=pf/i.N,on="treat7"
][date.dt, on = c("treat7", "date"), roll = TRUE
][,.(treat6=treat7[idx<-treat7!="Control"],
pf=pf[idx]-pf[!idx]),by=date]
owners[!holdout&!is.na(date_paid_full),
.N,keyby=.(treat7,date_paid_full)
]
owners[!holdout&!is.na(date_paid_full),
.N,keyby=.(treat7,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat7
]
owners[!holdout&!is.na(date_paid_full),
.N,keyby=.(treat7,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat7
][owners[(!holdout),.N,treat7],pf:=pf/i.N,on="treat7"
]
owners[!holdout&!is.na(date_paid_full),
.N,keyby=.(treat7,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat7
][owners[(!holdout),.N,treat7],pf:=pf/i.N,on="treat7"
][]
214*7
owners[!holdout&!is.na(date_paid_full),
.N,keyby=.(treat7,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat7
][owners[(!holdout),.N,treat7],pf:=pf/i.N,on="treat7"
][date.dt, on = c("treat7", "date"), roll = TRUE
]
owners[treat8 %in% c("Holdout","Control","Lien")&
!holdout&!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
]
owners[treat8 %in% c("Holdout","Control","Lien")&
!holdout&!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat7
]
owners[treat8 %in% c("Holdout","Control","Lien")&
!holdout&!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
]
owners[treat8%in%c("Holdout","Control","Lien")&
!holdout&!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][owners[treat8%in%c("Holdout","Control","Lien"),
.N,treat8],pf:=pf/i.N,on="treat8"
][]
date.dt <-
CJ(treat8 = c("Holdout", trt.nms), date = dt.rng,
unique=TRUE, sorted = FALSE)
owners[treat8%in%c("Holdout","Control","Lien")&
!holdout&!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][owners[treat8%in%c("Holdout","Control","Lien"),
.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"), roll = TRUE
]
date.dt <-
CJ(treat8 = c("Holdout", trt.nms), date = dt.rng,
unique=TRUE, sorted = FALSE)
date.dt
owners[treat8%in%c("Holdout","Control","Lien")&
!holdout&!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][owners[treat8%in%c("Holdout","Control","Lien"),
.N,treat8],pf:=pf/i.N,on="treat8"
]
owners[treat8%in%c("Holdout","Control","Lien")&
!holdout&!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][owners[treat8%in%c("Holdout","Control","Lien"),
.N,treat8],pf:=pf/i.N,on="treat8"
][]
date.dt
owners[treat8%in%c("Holdout","Control","Lien")&
!holdout&!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][owners[treat8%in%c("Holdout","Control","Lien"),
.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"), roll = TRUE, nomatch = 0L
]
owners[treat8%in%c("Holdout","Control","Lien")&
!holdout&!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][owners[treat8%in%c("Holdout","Control","Lien"),
.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"), roll = TRUE, nomatch = 0L
][,table(treat8)]
owners[treat8%in%c("Holdout","Control","Lien"),
.N,treat8]
owners[treat8%in%c("Holdout","Control","Lien")&
&!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][owners[treat8%in%c("Holdout","Control","Lien"),
.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"), roll = TRUE, nomatch = 0L
]
owners[treat8%in%c("Holdout","Control","Lien")&
!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][owners[treat8%in%c("Holdout","Control","Lien"),
.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"), roll = TRUE, nomatch = 0L
]
trt.3 <- c("Holdout","Control","Lien")
date.dt <-
CJ(treat8 = trt.3, date = dt.rng,
unique=TRUE, sorted = FALSE)
owners[treat8%in%trt.3&!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][owners[treat8%in%trt.3,
.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"), roll = TRUE
]
cum_haz<-owners[treat8%in%trt.3&!is.na(date_paid_full),
.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][owners[treat8%in%trt.3,
.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"), roll = TRUE
][is.na(pf), pf:=0]
cum_haz
cum_haz
dt <- owners[treat8%in%trt.3
][sample(.N, rep = TRUE),
.(date_paid_full,treat8)]
dt[!is.na(date_paid_full),.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][dt[,.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"),roll = TRUE
][is.na(pf), pf:=0]
dt[!is.na(date_paid_full),.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][dt[,.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"),roll = TRUE
][is.na(pf), pf:=0][]
BB<-10
lapply(integer(BB), function(...){
dt <- owners[treat8%in%trt.3
][sample(.N, rep = TRUE),
.(date_paid_full,treat8)]
dt[!is.na(date_paid_full),.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][dt[,.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"),roll = TRUE
][is.na(pf), pf:=0]})
rbindlist(lapply(integer(BB), function(...){
dt <- owners[treat8%in%trt.3
][sample(.N, rep = TRUE),
.(date_paid_full,treat8)]
dt[!is.na(date_paid_full),.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][dt[,.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"),roll = TRUE
][is.na(pf), pf:=0]}),idcol="bootID"
)
rbindlist(lapply(integer(BB), function(...){
dt <- owners[treat8%in%trt.3
][sample(.N, rep = TRUE),
.(date_paid_full,treat8)]
dt[!is.na(date_paid_full),.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][dt[,.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"),roll = TRUE
][is.na(pf), pf:=0]}),idcol="bootID"
)[,quantile(pf, c(.025, .975), na.rm=T),
by = .(treat8, date)]
dcast(rbindlist(lapply(integer(BB), function(...){
dt <- owners[treat8%in%trt.3
][sample(.N, rep = TRUE),
.(date_paid_full,treat8)]
dt[!is.na(date_paid_full),.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][dt[,.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"),roll = TRUE
][is.na(pf), pf:=0]}),idcol="bootID"
)[,quantile(pf, c(.025, .975), na.rm=T),
by = .(treat8, date)],
treat8+date~c("low","high")[rowid(treat8,date)],value.var="V1")
BB <- 5000
cis <- dcast(rbindlist(lapply(integer(BB), function(...){
dt <- owners[treat8%in%trt.3
][sample(.N, rep = TRUE),
.(date_paid_full,treat8)]
dt[!is.na(date_paid_full),.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][dt[,.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"),roll = TRUE
][is.na(pf), pf:=0]}),idcol="bootID"
)[,quantile(pf, c(.025, .975), na.rm=T),
by = .(treat8, date)],
treat8+date~c("low","high")[rowid(treat8,date)],value.var="V1")
cis
cum-haz
cum_haz
cis[cum_haz, pf:=i.pf, on = c("treat8","date")]
cis[]
cis <- dcast(dcast(rbindlist(lapply(integer(BB), function(...){
dt <- owners[treat8%in%trt.3
][sample(.N, rep = TRUE),
.(date_paid_full,treat8)]
dt[!is.na(date_paid_full),.N,keyby=.(treat8,date_paid_full)
][,.(pf=cumsum(N)+0.,date=date_paid_full),by=treat8
][dt[,.N,treat8],pf:=pf/i.N,on="treat8"
][date.dt, on = c("treat8", "date"),roll = TRUE
][is.na(pf), pf:=0]}),idcol="bootID"
)[,quantile(pf, c(.025, .975), na.rm=T),
by = .(treat8, date)],
treat8+date~c("low","high")[rowid(treat8,date)],value.var="V1"
)[cum_haz, pf:=i.pf, on = c("treat8","date")],
date~treat8,value.var=c("low","pf","high"))
cis
cis[,matplot(date,.SD[,!"date",with=F])]
cis[,matplot(date,x<-.SD[,!"date",with=F],
type = "l", lty = 2-grepl("pf", names(x)))]
cis[,matplot(date,x<-.SD[,!"date",with=F],
type = "l", lty = 2-grepl("pf", names(x)),
col = get.col(gsub(".*_","",names(x))))]
cis[,matplot(date,x<-.SD[,!"date",with=F],lwd = 3,
type = "l", lty = 2-grepl("pf", names(x)),
col = get.col(gsub(".*_","",names(x))))]
get.col("Lien")
get.col("Sheriff")
cis[,{
matplot(date,x<-.SD[,!"date",with=F],lwd = 3,
type = "l", lty = 2-grepl("pf", names(x)),
col = get.col(gsub(".*_","",names(x))),
xlab = "Date", xaxt = "n",las = 2,
ylab = "Proportion Paid Full",
main = "Proportion Paid in Full Over Time")
axis(side = 1, at = dt.rng2)}]
cis[,{
matplot(date,x<-.SD[,!"date",with=F],lwd = 3,
type = "l", lty = 2-grepl("pf", names(x)),
col = get.col(gsub(".*_","",names(x))),
xlab = "Date", xaxt = "n",las = 2,
ylab = "Proportion Paid Full",
main = "Proportion Paid in Full Over Time")
axis(side = 1, at = dt.rng2,
labels = as.character(dt.rng2))}]
cis[,{
matplot(date,x<-.SD[,!"date",with=F],lwd = 3,
type = "l", lty = 2-grepl("pf", names(x)),
col = get.col(gsub(".*_","",names(x))),
xlab = "Date", xaxt = "n",las = 2,
ylab = "Proportion Paid Full",
main = "Proportion Paid in Full Over Time")
axis(side = 1, at = dt.rng2,
labels = format(dt.rng2, "%b %d"))}]
cis[,{
matplot(date,x<-.SD[,!"date",with=F],lwd = 3,
type = "l", lty = 2-grepl("pf", names(x)),
col = get.col(gsub(".*_","",names(x))),
xlab = "Date", xaxt = "n",las = 2,
ylab = "Proportion Paid Full",
main = "Proportion Paid in Full Over Time")
axis(side = 1, at = dt.rng2,
labels = format(dt.rng2, "%b %d"))
legend("bottomright",lwd = 3,lty=1,
col = get.col(trt.3),
legend = trt.3)}]
wds["imga"]
cis[,{
pdf2(wds["imga"]%+%"cum_haz_pf_7_absolute_w_cis.pdf")
matplot(date,x<-.SD[,!"date",with=F],lwd = 3,
type = "l", lty = 2-grepl("pf", names(x)),
col = get.col(gsub(".*_","",names(x))),
xlab = "Date", xaxt = "n",las = 2,
ylab = "Proportion Paid Full",
main = "Proportion Paid in Full Over Time")
axis(side = 1, at = dt.rng2,
labels = format(dt.rng2, "%b %d"))
legend("bottomright",lwd = 3,lty=1,
col = get.col(trt.3),
legend = trt.3)
dev.off2()}]
cis[,{
pdf2(wds["imga"]%+%"cum_haz_pf_7_absolute_w_cis.pdf")
matplot(date,x<-.SD[,!"date",with=F],lwd = 3,
type = "l", lty = 2-grepl("pf", names(x)),
col = get.col(gsub(".*_","",names(x))),
xlab = "Date", xaxt = "n",las = 2,
ylab = "Proportion Paid Full",
main = "Proportion Paid in Full Over Time")
axis(side = 1, at = dt.rng2,
labels = format(dt.rng2, "%b %d"))
legend("bottomright",lwd = 3,lty=1,
col = get.col(trt.3),
legend = trt.3)
dev.off2()}]
cis[,{
pdf(wds["imga"]%+%"cum_haz_pf_7_absolute_w_cis.pdf")
matplot(date,x<-.SD[,!"date",with=F],lwd = 3,
type = "l", lty = 2-grepl("pf", names(x)),
col = get.col(gsub(".*_","",names(x))),
xlab = "Date", xaxt = "n",las = 2,
ylab = "Proportion Paid Full",
main = "Proportion Paid in Full Over Time")
axis(side = 1, at = dt.rng2,
labels = format(dt.rng2, "%b %d"))
legend("bottomright",lwd = 3,lty=1,
col = get.col(trt.3),
legend = trt.3)
dev.off()}]
as.raw(" ")
as.raw( )
?raw
charToRaw(" ")
as.raw(20)
rawToChar(charToRaw(" "))
rawToChar(as.raw(20))
as.raw(0x20)
rawToChar(as.raw(0x20))
pdf(wds["imga"]%+%"cum_haz_pf_7_absolute_w_cis.pdf")
matplot(date,x<-.SD[,!"date",with=F],
lwd = 2+ci<-grepl("pf", names(x)),
type = "l", lty = 2-ci,
col = get.col(gsub(".*_","",names(x))),
xlab = "Date", xaxt = "n",las = 2,
ylab = "Proportion Paid Full",
main = "Proportion Paid in Full Over Time")
axis(side = 1, at = dt.rng2,
labels = format(dt.rng2, "%b %d"))
legend("bottomright",lwd = 3,lty=1,
col = get.col(trt.3),
legend = trt.3)
cis[,{
pdf(wds["imga"]%+%"cum_haz_pf_7_absolute_w_cis.pdf")
matplot(date,x<-.SD[,!"date",with=F],
lwd = 2+ci<-grepl("pf", names(x)),
type = "l", lty = 2-ci,
col = get.col(gsub(".*_","",names(x))),
xlab = "Date", xaxt = "n",las = 2,
ylab = "Proportion Paid Full",
main = "Proportion Paid in Full Over Time")
axis(side = 1, at = dt.rng2,
labels = format(dt.rng2, "%b %d"))
legend("bottomright",lwd = 3,lty=1,
col = get.col(trt.3),
legend = trt.3)
dev.off()}]
cis[,{
pdf(wds["imga"]%+%"cum_haz_pf_7_absolute_w_cis.pdf")
matplot(date,x<-.SD[,!"date",with=F],
lwd = 2+(ci<-grepl("pf", names(x))),
type = "l", lty = 2-ci,
col = get.col(gsub(".*_","",names(x))),
xlab = "Date", xaxt = "n",las = 2,
ylab = "Proportion Paid Full",
main = "Proportion Paid in Full Over Time")
axis(side = 1, at = dt.rng2,
labels = format(dt.rng2, "%b %d"))
legend("bottomright",lwd = 3,lty=1,
col = get.col(trt.3),
legend = trt.3)
dev.off()}]
?matplot
matplot
cis[,{
pdf(wds["imga"]%+%"cum_haz_pf_7_absolute_w_cis.pdf")
matplot(date,x<-.SD[,!"date",with=F],
lty = 2-(ci<-grepl("pf", names(x))),
type = "l", lwd = 2+ci,
col = get.col(gsub(".*_","",names(x))),
xlab = "Date", xaxt = "n",las = 2,
ylab = "Proportion Paid Full",
main = "Proportion Paid in Full Over Time")
axis(side = 1, at = dt.rng2,
labels = format(dt.rng2, "%b %d"))
legend("bottomright",lwd = 3,lty=1,
col = get.col(trt.3),
legend = trt.3)
dev.off()}]
sapply
lapply
?match.fun
?`:=`
matrix(runif(100*3) > .5, nrow = 3)
apply(matrix(runif(100*3) > .5, nrow = 3), 1, which.min)
apply(matrix(runif(100*3) > .5, nrow = 3), 2, which.min)
apply(x <- matrix(runif(100*3) > .5, nrow = 3), 1, which.min)
x
x
apply(x, 1, which.min)
apply(x, 1, which.max)
mean(replicate(10000, all.equal(apply(matrix(runif(100*3) > .5, nrow = 3), 1, which.max))))
all.equal(apply(matrix(runif(100*3) > .5, nrow = 3), 1, which.max))
?all.equal
apply(matrix(runif(100*3) > .5, nrow = 3), 1, which.max)
diff(range((apply(matrix(runif(100*3) > .5, nrow = 3), 1, which.max))))
mean(replicate(10000, diff(range((apply(matrix(runif(100*3) > .5, nrow = 3), 1, which.max))))==0))
1/7
mean(replicate(100000, diff(range((apply(matrix(runif(100*3) > .5, nrow = 3), 1, which.max))))==0))
27*7*11*13*37
?factorize
1:101 %% 101
which(1:101 %% 101 == 0)
expand.grid(0:3,0:1,0:1,0:1)
rbind(c(3, 7, 11, 13, 37)) %*% expand.grid(0:3,0:1,0:1,0:1,0:1)
rbind(c(3, 7, 11, 13, 37))
expand.grid(0:3,0:1,0:1,0:1,0:1)
rbind(c(3, 7, 11, 13, 37)) %*% expand.grid(0:3,0:1,0:1,0:1,0:1)
expand.grid(0:3,0:1,0:1,0:1,0:1) %*% rbind(c(3, 7, 11, 13, 37))
class(rbind(c(3, 7, 11, 13, 37)))
class(expand.grid(0:3,0:1,0:1,0:1,0:1))
as.matrix(expand.grid(0:3,0:1,0:1,0:1,0:1)) %*% rbind(c(3, 7, 11, 13, 37))
as.matrix(expand.grid(0:3,0:1,0:1,0:1,0:1)) %*% c'bind(c(3, 7, 11, 13, 37))
as.matrix(expand.grid(0:3,0:1,0:1,0:1,0:1)) %*% cbind(c(3, 7, 11, 13, 37))
x <- 1:11111 %% 11111
x[x==0]
?is.prime
101 %% (1:5)
101 %% (1:101)
x <- 11111 %% 1:11111
x[x==0]
which(x==0)
x <- 111111 %% 1:111111
which(x==0)
27*7*11*13*37
which(1e6-1 %% (seq.int(1e6-1)) == 0 )
seq.int(1e6-1)
which(999999 %% 1:999999 == 0)
x <- which(999999 %% 1:999999 == 0)
x
91/999999
sprintf("%0.10",91/999999)
?sprintf
sprintf("%0.10f",91/999999)
x %% c(11, 9, 41, 271, 101, 37)
sapply(c(11, 9, 41, 271, 101, 37), function(y) x %% y)
sapply(c(11, 9, 41, 271, 101, 37), function(y) x %% y)!=0
rowSums(sapply(c(11, 9, 41, 271, 101, 37), function(y) x %% y)!=0)
rowSums(sapply(c(11, 9, 41, 271, 101, 37), function(y) x %% y)==0)
x[rowSums(sapply(c(11, 9, 41, 271, 101, 37), function(y) x %% y)==0)==0]
sprintf("%0.10f",273/999999)
x <- data.frame(a = 1:3, b = 3:1)
table(x)
